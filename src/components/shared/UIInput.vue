<script setup lang="ts">
import { ref } from 'vue';

const model = defineModel({
    default: "",
    type: String
})

const inputRef = ref<HTMLElement>()

</script>

<template>
    <div
        class="bg-gray-100 w-[400px] min-w-[150px] h-[40px] rounded-[6px] p-[10px] flex items-center gap-[10px] max-w-[100%]">
        <span @click="() => inputRef?.focus()">
            <svg viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                width="14.000000" height="14.000000" fill="none">
                <rect id="magnifier" width="14.000000" height="14.000000" x="0.000000" y="0.000000"
                    fill="rgb(255,255,255)" fill-opacity="0" />
                <g id="general">
                    <path id="magnifier"
                        d="M12.5825 11.3225L10.71 9.57249C11.5058 8.51173 11.8737 7.19059 11.7408 5.87121C11.6078 4.55183 10.9838 3.33064 9.9924 2.44995C9.00104 1.56925 7.71482 1.09341 6.38897 1.11685C5.06312 1.14029 3.79453 1.6613 2.83492 2.57649C1.8753 3.49168 1.29479 4.73416 1.20858 6.05742C1.12236 7.38067 1.53674 8.68798 2.36949 9.71995C3.20224 10.7519 4.3925 11.4331 5.7041 11.6284C7.0157 11.8237 8.35279 11.5188 9.45005 10.7742L11.375 12.6C11.5351 12.7462 11.7418 12.831 11.9584 12.8392C12.0781 12.8402 12.1968 12.8157 12.3064 12.7675C12.416 12.7192 12.5141 12.6482 12.5942 12.5592C12.6753 12.4775 12.7394 12.3806 12.7827 12.2741C12.8261 12.1675 12.8478 12.0534 12.8467 11.9384C12.8456 11.8234 12.8217 11.7097 12.7764 11.604C12.731 11.4982 12.6652 11.4026 12.5825 11.3225ZM6.47505 10.1092C5.73716 10.108 5.01617 9.88822 4.40312 9.47755C3.79007 9.06688 3.31246 8.48376 3.03062 7.80182C2.74878 7.11988 2.67534 6.36971 2.81957 5.64606C2.96381 4.92241 3.31926 4.25773 3.84102 3.73596C4.36279 3.2142 5.02747 2.85875 5.75112 2.71452C6.47477 2.57028 7.22494 2.64372 7.90687 2.92556C8.58881 3.20741 9.17194 3.68501 9.58261 4.29806C9.99327 4.91111 10.2131 5.63211 10.2142 6.36999C10.2142 6.86103 10.1175 7.34725 9.92959 7.80091C9.74168 8.25457 9.46625 8.66677 9.11904 9.01398C8.77182 9.36119 8.35962 9.63662 7.90596 9.82453C7.45231 10.0124 6.96608 10.1092 6.47505 10.1092Z"
                        fill="rgb(161,165,183)" fill-rule="nonzero" />
                </g>
            </svg>
        </span>

        <input ref="inputRef" type="text" v-model="model" placeholder="Поиск" class="w-[100%] outline-0" />

        <span v-if="model" class="cursor-pointer" @click="() => model = ''">
            <svg viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                width="14.000000" height="14.000000" fill="none">
                <rect id="cross" width="14.000000" height="14.000000" x="0.000000" y="0.000000" fill="rgb(255,255,255)"
                    fill-opacity="0" />
                <g id="arrows">
                    <path id="cross"
                        d="M7.82251 6.99999L9.91668 4.92332C10.0281 4.81038 10.09 4.65782 10.0889 4.4992C10.0878 4.34057 10.0238 4.18888 9.91085 4.07749C9.79791 3.9661 9.64535 3.90413 9.48672 3.90523C9.3281 3.90632 9.1764 3.97038 9.06501 4.08332L7.00001 6.17749L4.93501 4.12415C4.82572 4.01551 4.67787 3.95453 4.52376 3.95453C4.36966 3.95453 4.22181 4.01551 4.11251 4.12415C4.05784 4.17838 4.01444 4.2429 3.98483 4.31398C3.95521 4.38507 3.93997 4.46131 3.93997 4.53832C3.93997 4.61533 3.95521 4.69157 3.98483 4.76266C4.01444 4.83374 4.05784 4.89826 4.11251 4.95249L6.17751 6.99999L4.08335 9.07665C3.97196 9.18959 3.90999 9.34215 3.91109 9.50078C3.91218 9.6594 3.97624 9.8111 4.08918 9.92249C4.20212 10.0339 4.35468 10.0958 4.51331 10.0947C4.67193 10.0937 4.82362 10.0296 4.93501 9.91665L7.00001 7.82249L9.06501 9.87582C9.17431 9.98447 9.32215 10.0455 9.47626 10.0455C9.63037 10.0455 9.77822 9.98447 9.88751 9.87582C9.94219 9.82159 9.98559 9.75707 10.0152 9.68599C10.0448 9.61491 10.0601 9.53866 10.0601 9.46165C10.0601 9.38465 10.0448 9.3084 10.0152 9.23732C9.98559 9.16623 9.94219 9.10172 9.88751 9.04749L7.82251 6.99999Z"
                        fill="rgb(161,165,183)" fill-rule="nonzero" />
                </g>
            </svg>

        </span>
    </div>
</template>
